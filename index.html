<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Výkaz práce</title>

  <!-- TVÉ původní styly – zachovány -->
  <link rel="stylesheet" href="./style.css?v=10fix" />
  <!-- DOPLNĚK: styly pro pravý vysouvací panel -->
  <link rel="stylesheet" href="./drawer.css?v=1" />
</head>
<body>

  <!-- PŮVODNÍ HLAVIČKA (třída .topbar ponechána kvůli style.css) -->
  <header class="topbar">
    <!-- tvůj app.js sem obvykle dopisuje e-mail / Odhlásit -->
    <div id="userBoxTopRight"></div>
  </header>

  <main id="app" class="wrap">

    <!-- ===== TÝDEN + EXPORT (původní struktura) ===== -->
    <section class="weekbar">
      <button id="prevWeek" class="circle ghost" aria-label="Předchozí týden">◀</button>
      <div id="weekRange" class="pill dark navRange">1. 1. 2025 – 5. 1. 2025</div>
      <button id="nextWeek" class="circle ghost" aria-label="Další týden">▶</button>

      <div class="weekbar__right">
        <button id="exportXlsx" class="pill-btn">Export do Excelu</button>
      </div>
    </section>

    <!-- ===== FILTRY (ponechány ids, ať je app.js najde) ===== -->
    <section class="filters">
      <span class="label">Nastavení filtru:</span>
      <select id="filterClient" class="pill-select">
        <option value="ALL">Všichni klienti</option>
      </select>
      <select id="filterStatus" class="pill-select">
        <option value="ALL">Všechny zakázky</option>
      </select>
      <select id="sumBy" class="pill-select">
        <option value="me">Součty: Já</option>
      </select>
      <select id="assigneeFilter" class="pill-select">
        <option value="ALL">Grafik: Všichni</option>
      </select>
    </section>

    <!-- ===== ADD ROW – přesunuto do PRAVÉHO PANELU, ale IDS zůstávají ===== -->
    <section class="addRow add-grid" id="addRowDrawer">
      <h3 class="drawerTitle">Nástroje</h3>

      <input id="newClientName" class="pill-input" placeholder="Název klienta" />
      <button id="addClientBtn" class="pill-btn">Přidat klienta</button>

      <select id="newJobClient" class="pill-select"></select>
      <input id="newJobName" class="pill-input" placeholder="Název zakázky" />
      <select id="newJobStatus" class="pill-select"></select>
      <button id="addJobBtn" class="pill-btn accent">Přidat zakázku</button>

      <!-- sem zkopírujeme obsah e-mail/odhlášení -->
      <div id="drawerUserSlot" class="drawerUser"></div>
    </section>

    <!-- ===== TABULKA – beze změny (ids nechány) ===== -->
    <section class="tableWrap">
      <table>
        <thead>
          <tr>
            <th>Klient</th>
            <th>Zakázka</th>
            <th>Po</th><th>Út</th><th>St</th><th>Čt</th><th>Pá</th>
            <th>Celkem</th>
          </tr>
        </thead>
        <tbody id="tbody"></tbody>
        <tfoot>
          <tr id="sumRow">
            <td></td><td></td>
            <td class="sumCell"></td><td class="sumCell"></td><td class="sumCell"></td><td class="sumCell"></td><td class="sumCell"></td>
            <td></td>
          </tr>
        </tfoot>
      </table>
    </section>

    <div id="err" class="toast" style="display:none"></div>
  </main>

  <footer class="siteFooter">
    <small>Frontend: GitHub Pages · Data: Supabase</small>
  </footer>

  <!-- ====== BURGER (pevně vpravo nahoře) + backdrop ====== -->
  <button id="burgerBtn" class="circle ghost burger-fixed" aria-label="Menu" title="Menu">☰</button>
  <div id="drawerBackdrop" class="drawerBackdrop" hidden></div>

  <!-- KNIHOVNY (stejně jako dřív) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/exceljs@4/dist/exceljs.min.js"></script>

  <!-- NOVÉ: ovládání panelu (nezasahuje do app.js) -->
  <script type="module" src="./drawer.js?v=1"></script>
  <!-- TVÁ APLIKACE – beze změny -->
  <script type="module" src="./app.js?v=10fix"></script>

  <!-- === Drawer (Nástroje) ==================================== -->
<button id="x-burger" class="x-burger" aria-label="Otevřít panel">
  <span></span><span></span><span></span>
</button>

<div id="x-scrim" class="x-scrim" hidden></div>

<aside id="x-drawer" class="x-drawer" aria-hidden="true">
  <div class="x-drawer__head">
    <h2>Nástroje</h2>
    <button class="x-drawer__close" aria-label="Zavřít panel">✕</button>
  </div>

  <div class="x-drawer__body">
    <!-- Přidání klienta -->
    <div class="x-card">
      <h3>Přidat klienta</h3>
      <input id="newClientName" class="pill-input" type="text" placeholder="Název klienta" />
      <button id="addClientBtn" class="pill-btn">Přidat klienta</button>
    </div>

    <!-- Přidání zakázky -->
    <div class="x-card">
      <h3>Přidat zakázku</h3>
      <select id="newJobClient" class="pill-select"></select>
      <input id="newJobName" class="pill-input" type="text" placeholder="Název zakázky" />
      <select id="newJobStatus" class="pill-select">
        <option value="new">Nová</option>
        <option value="in_progress">Probíhá</option>
        <option value="done">Hotovo</option>
      </select>
      <button id="addJobBtn" class="pill-btn accent">Přidat zakázku</button>
    </div>

    <!-- Volitelně: odhlášení -->
    <div class="x-card x-card--ghost">
      <button id="logoutBtn" class="pill-btn ghost">Odhlásit</button>
    </div>
  </div>
</aside>
<!-- === /Drawer ============================================== -->

<!-- přidejte nový JS soubor -->
<script src="drawer.js"></script>
  
</body>
</html>
